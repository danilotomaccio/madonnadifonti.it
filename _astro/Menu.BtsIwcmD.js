import{d as N,c as n,a,t as i,F as m,r as f,b as y,o as E,e as M,f as o,g as v,h}from"./runtime-core.esm-bundler.DNTAV_CR.js";const S=(p,t)=>{const l=p.__vccOpts||p;for(const[r,d]of t)l[r]=d;return l},b="1J8m6H03yN2kqZQTHyM2WmteGu7zddrley_urGSst-Pk",j=N({__name:"Menu",setup(p,{expose:t}){t();const l=y(!0),r=y(""),d=y([]),x=`https://docs.google.com/spreadsheets/d/${b}/gviz/tq?tqx=out:json`;E(async()=>{try{const c=await(await fetch(x)).text(),_=c.substring(47,c.length-2),k=JSON.parse(_).table.rows;d.value=k.map(s=>({Piatto:s.c[0]?s.c[0].v:"",Categoria:s.c[1]?s.c[1].v:"Altro",Prezzo:s.c[2]?s.c[2].v:"",Ingredienti:s.c[3]?s.c[3].v:"",Note:s.c[4]?s.c[4].v:""}))}catch(e){r.value="Errore nel caricamento del menù.",console.error(e)}finally{l.value=!1}});const g=M(()=>d.value.reduce((e,c)=>{const _=c.Categoria||"Altro";return e[_]||(e[_]=[]),e[_].push(c),e},{})),u={loading:l,error:r,menuItems:d,GOOGLE_SHEET_ID:b,SHEET_URL:x,groupedMenu:g};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),z={class:"container mx-auto px-4 py-8"},C={key:0,class:"text-center text-gray-500"},I={key:1,class:"text-center text-red-500"},P={key:2},F={class:"text-2xl font-semibold bg-blue-600 text-white px-4 py-2 rounded mb-4 uppercase"},O={class:"space-y-4"},T={class:"flex justify-between items-center mb-2"},D={class:"text-xl font-bold"},G={class:"text-xl text-blue-600"},H={key:0,class:"text-gray-700"},q={key:1,class:"text-gray-600"};function A(p,t,l,r,d,x){return o(),n("div",z,[t[2]||(t[2]=a("h1",{class:"text-3xl font-bold text-center mb-8"},"Menù del Ristorante",-1)),r.loading?(o(),n("div",C,"Caricamento menù...")):r.error?(o(),n("div",I,i(r.error),1)):(o(),n("div",P,[(o(!0),n(m,null,f(r.groupedMenu,(g,u)=>(o(),n("section",{key:u,class:"mb-10"},[a("h2",F,i(u),1),a("div",O,[(o(!0),n(m,null,f(g,(e,c)=>(o(),n("div",{key:c,class:"bg-white rounded shadow p-4"},[a("div",T,[a("span",D,i(e.Piatto),1),a("span",G,i(e.Prezzo)+" €",1)]),e.Ingredienti?(o(),n("p",H,[t[0]||(t[0]=a("strong",null,"Ingredienti:",-1)),h(" "+i(e.Ingredienti),1)])):v("",!0),e.Note?(o(),n("p",q,[t[1]||(t[1]=a("strong",null,"Note:",-1)),h(" "+i(e.Note),1)])):v("",!0)]))),128))])]))),128))]))])}const V=S(j,[["render",A]]);export{V as default};
