import{d as N,c as n,a as s,t as d,F as f,r as h,b as y,o as j,e as M,f as r,g as v,h as k}from"./runtime-core.esm-bundler.DNTAV_CR.js";const z=(p,t)=>{const i=p.__vccOpts||p;for(const[a,l]of t)i[a]=l;return i},b="1J8m6H03yN2kqZQTHyM2WmteGu7zddrley_urGSst-Pk",C=N({__name:"Menu",setup(p,{expose:t}){t();const i=y(!0),a=y(""),l=y([]),g=`https://docs.google.com/spreadsheets/d/${b}/gviz/tq?tqx=out:json`;j(async()=>{try{const c=await(await fetch(g)).text(),_=c.substring(47,c.length-2),m=JSON.parse(_).table.rows;console.log(m),l.value=m.map(o=>({Piatto:o.c[0]?o.c[0].v:"",Categoria:o.c[1]?o.c[1].v:"Altro",Prezzo:o.c[2]?o.c[2].v:"",Ingredienti:o.c[3]?o.c[3].v:"",Note:o.c[4]?o.c[4].v:""}))}catch(e){a.value="Errore nel caricamento del menù.",console.error(e)}finally{i.value=!1}});const x=M(()=>l.value.reduce((e,c)=>{const _=c.Categoria||"Altro";return e[_]||(e[_]=[]),e[_].push(c),e},{})),u={loading:i,error:a,menuItems:l,GOOGLE_SHEET_ID:b,SHEET_URL:g,groupedMenu:x};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),E={class:"container mx-auto px-4 py-8"},S={key:0,class:"text-center text-gray-500"},w={key:1,class:"text-center text-red-500"},I={key:2},P={class:"space-y-4"},O={class:"flex cursor-pointer items-center justify-between gap-1.5 rounded-lg bg-gray-50 p-4 text-gray-900"},T={class:"font-medium"},B={class:"mt-4 px-4 leading-relaxed text-gray-700"},D={class:"flex justify-between items-center mb-2"},F={class:"text-xl font-bold"},G={class:"text-xl text-grey-700"},H={key:0,class:"text-gray-700"},q={key:1,class:"text-gray-600"};function A(p,t,i,a,l,g){return r(),n("div",E,[t[3]||(t[3]=s("h1",{class:"text-3xl font-bold text-center mb-8"},"Menù del Ristorante",-1)),a.loading?(r(),n("div",S,"Chiedo un attimo in cucina")):a.error?(r(),n("div",w,d(a.error),1)):(r(),n("div",I,[s("div",P,[(r(!0),n(f,null,h(a.groupedMenu,(x,u)=>(r(),n("details",{class:"group [&_summary::-webkit-details-marker]:hidden",key:u},[s("summary",O,[s("h2",T,d(u),1),t[0]||(t[0]=s("svg",{class:"size-5 shrink-0 transition duration-300 group-open:-rotate-180",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),s("p",B,[(r(!0),n(f,null,h(x,(e,c)=>(r(),n("div",{key:c,class:"bg-white rounded shadow p-4"},[s("div",D,[s("span",F,d(e.Piatto),1),s("span",G,d(e.Prezzo)+"€",1)]),e.Ingredienti?(r(),n("p",H,[t[1]||(t[1]=s("strong",null,"Ingredienti:",-1)),k(" "+d(e.Ingredienti),1)])):v("",!0),e.Note?(r(),n("p",q,[t[2]||(t[2]=s("strong",null,"Note:",-1)),k(" "+d(e.Note),1)])):v("",!0)]))),128))])]))),128))])]))])}const J=z(C,[["render",A]]);export{J as default};
